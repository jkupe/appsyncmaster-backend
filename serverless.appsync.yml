name: appsyncmasterclass
schema: schema.api.graphql
authentication:
  type: AMAZON_COGNITO_USER_POOLS
  config:
    awsRegion: ${self:provider.region}
    defaultAction: ALLOW
    userPoolId:
      Ref: CognitoUserPool

dataSources:
  UsersTable:
    type: AMAZON_DYNAMODB
    config:
      tableName:
        Ref: UsersTable

resolvers:
  Query.getMyProfile:
    functions:
      - dataSource: UsersTable
        request: mapping-templates/Query.getMyProfile.request.vtl
        response: mapping-templates/Query.getMyProfile.response.vtl